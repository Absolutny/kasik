<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ë–ª—ç–∫–¥–∂–µ–∫ - Casino</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>‚ô†Ô∏è –ë–ª—ç–∫–¥–∂–µ–∫ 21 ‚ô•Ô∏è</h1>
            <div class="balance">–ë–∞–ª–∞–Ω—Å: <span>{{ balance }}</span> –∫–æ–ø–µ–π–∫–∞</div>
        </div>

        <div class="games-navigation">
            <a href="/" class="nav-btn">üè† –ì–ª–∞–≤–Ω–∞—è</a>
            <a href="/slots" class="nav-btn">üéØ –°–ª–æ—Ç—ã</a>
        </div>

        <div class="blackjack-container">
            <!-- –°—Ç–∞–¥–∏—è —Å—Ç–∞–≤–∫–∏ -->
            {% if game_state == 'betting' %}
            <div class="betting-stage">
                <h2>üí∞ –°–¥–µ–ª–∞–π—Ç–µ —Å—Ç–∞–≤–∫—É</h2>
                <form method="POST" class="bet-form">
                    <div class="bet-options">
                        <label>
                            <input type="radio" name="bet" value="10" checked>
                            <span class="bet-chip">10 –∫–æ–ø–µ–π–∫–∞</span>
                        </label>
                        <label>
                            <input type="radio" name="bet" value="25">
                            <span class="bet-chip">25 –∫–æ–ø–µ–π–∫–∞</span>
                        </label>
                        <label>
                            <input type="radio" name="bet" value="50">
                            <span class="bet-chip">50 –∫–æ–ø–µ–π–∫–∞</span>
                        </label>
                        <label>
                            <input type="radio" name="bet" value="100">
                            <span class="bet-chip">100 –∫–æ–ø–µ–π–∫–∞</span>
                        </label>
                    </div>
                    <button type="submit" name="action" value="place_bet" class="deal-btn">
                        üé≤ –†–∞–∑–¥–∞—Ç—å –∫–∞—Ä—Ç—ã
                    </button>
                </form>
            </div>
            {% endif %}

            <!-- –ò–≥—Ä–æ–≤–æ–π —Å—Ç–æ–ª -->
            <div class="game-table">
                <!-- –†—É–∫–∞ –¥–∏–ª–µ—Ä–∞ -->
                <div class="dealer-section">
                    <h3>üé© –î–∏–ª–µ—Ä: <span class="hand-value">{{ dealer_value }}</span></h3>
                    <div class="cards-container">
                        {% for card in dealer_hand %}
                        <div class="card {% if loop.index == 2 and dealer_value == '?' %}hidden-card{% endif %}">
                            {{ card }}
                        </div>
                        {% endfor %}
                    </div>
                </div>

                <!-- –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å -->
                <div class="table-divider"></div>

                <!-- –†—É–∫–∞ –∏–≥—Ä–æ–∫–∞ -->
                <div class="player-section">
                    <h3>üë§ –í—ã: <span class="hand-value">{{ player_value }}</span></h3>
                    <div class="cards-container">
                        {% for card in player_hand %}
                        <div class="card">{{ card }}</div>
                        {% endfor %}
                    </div>
                </div>

                <!-- –¢–µ–∫—É—â–∞—è —Å—Ç–∞–≤–∫–∞ -->
                {% if current_bet > 0 %}
                <div class="current-bet">
                    üí∞ –¢–µ–∫—É—â–∞—è —Å—Ç–∞–≤–∫–∞: <strong>{{ current_bet }} –∫–æ–ø–µ–π–∫–∞</strong>
                </div>
                {% endif %}
            </div>

            <!-- –î–µ–π—Å—Ç–≤–∏—è –∏–≥—Ä–æ–∫–∞ -->
            {% if game_state == 'player_turn' %}
            <div class="player-actions">
                <form method="POST" class="action-buttons">
                    <button type="submit" name="action" value="hit" class="action-btn hit-btn">
                        ‚ûï –í–∑—è—Ç—å –∫–∞—Ä—Ç—É
                    </button>
                    <button type="submit" name="action" value="stand" class="action-btn stand-btn">
                        ‚úã –•–≤–∞—Ç–∏—Ç
                    </button>
                </form>
            </div>
            {% endif %}

            <!-- –ù–æ–≤–∞—è –∏–≥—Ä–∞ -->
            {% if game_state == 'game_over' %}
            <div class="new-game">
                <form method="POST">
                    <button type="submit" name="action" value="new_game" class="new-game-btn">
                        üîÑ –ù–æ–≤–∞—è –∏–≥—Ä–∞
                    </button>
                </form>
            </div>
            {% endif %}

            <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ -->
            {% if message %}
            <div class="game-message {% if '–≤—ã–∏–≥—Ä–∞–ª–∏' in message or '–ë–ª—ç–∫–¥–∂–µ–∫' in message %}win-message{% else %}lose-message{% endif %}">
                {{ message }}
            </div>
            {% endif %}
        </div>

        <!-- –ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã -->
        <div class="game-rules">
            <h3>üìñ –ü—Ä–∞–≤–∏–ª–∞ –ë–ª—ç–∫–¥–∂–µ–∫–∞:</h3>
            <div class="rules-grid">
                <div class="rule-item">
                    <span class="rule-icon">üéØ</span>
                    <p>–¶–µ–ª—å - –Ω–∞–±—Ä–∞—Ç—å 21 –æ—á–∫–æ –∏–ª–∏ –±–æ–ª—å—à–µ –¥–∏–ª–µ—Ä–∞</p>
                </div>
                <div class="rule-item">
                    <span class="rule-icon">üÉè</span>
                    <p>–ö–∞—Ä—Ç—ã 2-10 = –Ω–æ–º–∏–Ω–∞–ª, J/Q/K = 10, A = 1 –∏–ª–∏ 11</p>
                </div>
                <div class="rule-item">
                    <span class="rule-icon">üëë</span>
                    <p>–ë–ª—ç–∫–¥–∂–µ–∫ (21) = x2.5 –≤—ã–∏–≥—Ä—ã—à</p>
                </div>
                <div class="rule-item">
                    <span class="rule-icon">ü§ñ</span>
                    <p>–î–∏–ª–µ—Ä –±–µ—Ä–µ—Ç –∫–∞—Ä—Ç—ã –¥–æ 17 –æ—á–∫–æ–≤</p>
                </div>
            </div>
        </div>
    </div>
</body>
</html>